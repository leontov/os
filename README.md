# Kolibri OS Prototype

Новое видение будущего.

## Быстрый старт

```bash
make
./kolibri.sh up
```

При первом запуске `kolibri.sh up` создаст файл `root.key` с уникальным
HMAC-ключом, который используется для подписи цифрового генома и пакетов роя.

### Запуск узла Kolibri

```bash
./build/kolibri_node --seed 42 --node-id 1 --listen 4050
```

После запуска откроется русскоязычный REPL с цифровой памятью и цифровым
геномом. Доступные команды:

- `:teach 2->5` — добавить обучающий пример для эволюции формул.
- `:ask 4` — применить текущий лучший ген к указанному входу.
- `:good` — поощрить последнюю формулу за корректный ответ.
- `:bad` — наказать последнюю формулу за ошибку или шум.
- `:tick [n]` — выполнить `n` поколений естественного отбора (по умолчанию 1).
- `:evolve [n]` — форсировать дополнительную эволюцию (по умолчанию 32).
- `:why` — вывести описание активного гена и сам десятичный код.
- `:canvas` — визуализировать фрактальную память цифровых импульсов.
- `:sync` — поделиться лучшим геном со случайным соседом.
- `:script путь` — выполнить сценарий KolibriScript с командами обучения и
  подкрепления.
- `:cluster list` — показать актуальный список соседей Kolibri Swarm.
- `:cluster broadcast` — разослать лучший ген всем соседям и в широковещание.
- `:cluster hello` — вручную отправить широковещательное приветствие.
- `:verify` — проверить целостность файла `genome.dat` перед продолжением.
- `:help` — краткий список команд, `:quit` — завершение работы узла.

Каждая команда транслируется в десятичные импульсы и записывается в цифровой
геном, обеспечивая воспроизводимый след принятия решений.

### Параметры CLI

- `--genome <путь>` — использовать указанный файл цифрового генома вместо
  значения по умолчанию `genome.dat`.
- `--verify-genome` — перед запуском выполняет криптографическую проверку
  выбранного файла генома. При успешной проверке запускается обычный цикл
  узла, при ошибке программа завершается с кодом 1.
- `--listen <порт>` — включить прослушивание бинарного протокола роя.
- `--peer <host:port>` — добавить статического соседа и мгновенно отправить ему приветствие.
- `--hmac-key <путь>` — указать файл с HMAC-ключом. Значение по умолчанию —
  `root.key` рядом с бинарником; файл создаётся автоматически скриптом
  `kolibri.sh up` и используется всеми узлами кластера.

### Запуск локального роя

Скрипт `scripts/run_cluster.sh` автоматически собирает бинарники и поднимает
несколько узлов на одной машине. Пример запуска трёх узлов с базовым портом
4100 и временем жизни роя 120 секунд:

```bash
./scripts/run_cluster.sh -n 3 -b 4100 -d 120
```

Для непрерывной работы передайте `-d 0`. Каждый узел записывает цифровой
геном и журнал в каталог `build/cluster`, а обнаружение и обмен генами
выполняются через широковещательные приветствия и Kolibri Swarm Protocol.

## Сборка Kolibri OS ISO

Для генерации загрузочного образа необходимы `nasm`, `grub-mkrescue` и кросс-компилятор `i686-elf-gcc`. При наличии инструментов выполните:

```bash
make iso
```

Команда запустит скрипт `scripts/build_iso.sh`, соберёт микроядро, сформирует структуру каталога `build/iso` и создаст файл `build/kolibri.iso`, готовый к загрузке через GRUB или QEMU.

## Тесты

```bash
make test
```

## Документация

- [Индекс документации / Documentation Index](docs/README.md)
- [Интегрированный прототип ИИ «Колибри»](docs/kolibri_integrated_prototype.md)
- [Master Prompt for the Materialization of Kolibri AI Ecosystem](docs/master_prompt.md)
- [Архитектура Kolibri](docs/architecture.md)
- [Руководство разработчика](docs/developer_guide.md)
- [Протокол роя](docs/swarm_protocol.md)
- [Слой десятичного мышления](docs/decimal_cognition.md)
- [Эволюция формул](docs/formula_evolution.md)
- [Цифровой геном Kolibri](docs/genome_chain.md)
- [Kolibri OS](docs/kolibri_os.md)
- [Веб-интерфейс и WASM-мост](docs/web_interface.md)
- [Нейронный телескоп Kolibri](docs/neural_telescope.md)
- [Научная повестка](docs/research_agenda.md)
